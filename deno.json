{
  "tasks": {
    "install": "deno install --reload",
    "help": "deno run -P=dev ./-scripts/main.ts --info",

    "ci": "deno run -P=ci ./-scripts/main.ts --dry --test --info",
    "test": "deno run -P=ci ./-scripts/main.ts --test",
    "dry": "deno run -P=ci ./-scripts/main.ts --dry",
    "lint": "deno run -P=clean ./-scripts/main.ts --lint",
    "clean": "deno run -P=clean ./-scripts/main.ts --clean",

    "prep": "deno task prep-imports   &&   deno task prep-ci",
    "prep-imports": "deno run -P=dev ./-scripts/main.ts --prep",
    "prep-ci": "deno run -P=dev ./-scripts/main.ts --prep-ci",

    "bump": "deno run -P=ci ./-scripts/main.ts --bump",
    "tmpl": "deno run -P=build @sys/tmpl",
    "cp": "deno run -P=clean ./-scripts/Task.-copy.ts",

    "tmp": "deno run -A ./-scripts/-tmp.ts"
  },

  "compilerOptions": {
    "strict": true,
    "lib": ["deno.ns", "esnext", "dom", "dom.iterable", "dom.asynciterable", "webworker"],
    "types": ["vite/client", "@types/react"],
    "jsx": "react-jsx",
    "jsxImportSource": "react"
  },
  "nodeModulesDir": "auto",

  "importMap": "deno.imports.json",
  "workspace": [
    "code/sys/types",
    "code/sys/std",
    "code/sys/color",

    "code/sys/testing",
    "code/sys/jsr",
    "code/sys/fs",
    "code/sys/cli",
    "code/sys/process",
    "code/sys/crypto",

    "code/sys/crdt",
    "code/sys/http",
    "code/sys/text",
    "code/sys/tmpl-engine",
    "code/sys/cmd",
    "code/sys/schema",

    "code/sys.ui/ui-css",
    "code/sys.ui/ui-dom",
    "code/sys.ui/ui-factory",
    "code/sys.ui/ui-react",
    "code/sys.ui/ui-react-devharness",
    "code/sys.ui/ui-react-components",

    "code/sys.driver/driver-automerge",
    "code/sys.driver/driver-deno",
    "code/sys.driver/driver-farcaster",
    "code/sys.driver/driver-mastra",
    "code/sys.driver/driver-monaco",
    "code/sys.driver/driver-peerjs",
    "code/sys.driver/driver-prosemirror",
    "code/sys.driver/driver-vite",

    "code/sys.dev",

    "deploy/@tdb.fs",
    "deploy/@tdb.slc",
    "deploy/@tdb.slc.fs",
    "deploy/api.db.team",
    "deploy/tmp.db.team",

    "code/-tmpl"
  ],

  "lint": {
    "rules": {
      "exclude": ["no-explicit-any", "no-slow-types"]
    }
  },

  "test": { "permissions": "testset" },
  "permissions": {
    "dev": {
      "read": true,
      "write": true,
      "net": true,
      "env": true,
      "ffi": true,
      "run": true,
      "sys": { "allow": ["cpus", "networkInterfaces", "hostname", "osRelease"] }
    },
    "build": {
      "read": true,
      "write": true,
      "env": true,
      "ffi": true,
      "run": true,
      "sys": { "allow": ["cpus", "networkInterfaces", "hostname", "osRelease"] }
    },
    "testset": {
      "read": true,
      "write": true,
      "net": true,
      "env": true,
      "ffi": true,
      "run": true,
      "sys": { "allow": ["cpus", "networkInterfaces", "hostname", "osRelease"] }
    },
    "serve": {
      "read": true,
      "write": true,
      "net": true,
      "env": true,
      "ffi": true,
      "sys": { "allow": ["cpus", "networkInterfaces", "hostname"] }
    },
    "clean": { "read": true, "write": true, "env": true, "run": true },
    "ci": {
      "read": true,
      "write": true,
      "env": true,
      "net": true,
      "run": true,
      "ffi": true,
      "sys": { "allow": ["cpus", "networkInterfaces", "hostname", "osRelease"] }
    }
  }
}
