# Style/CSS
Tools for working with Styles/CSS programatically (aka "css-in-js").

Note: This approach is a pure JS-to-CSS/DOM approach, with zero-dependencies on any other
special bundler plugin, or post-css processing type dependencies, which inevitably cause 
problems down stream when importing UI components from registry modules (less moving pieces).


### Usage
Applying within a JSX programming style idiom:

```tsx
import { css } from '@sys/ui-css';

export function MyComponent() {
  const base = css({ padding: 10 })
  return <div className={base.class}>{'üëã Hello World!'}</div>
}
```

If your component takes styles as an incoming property, these can be merged with 
internal component styles like so:


```tsx
import { css, type CssInput } from '@sys/ui-css';

export function MyComponent(props: { style?: CssInput } = {}) {
  const base = css({ padding: 10 })
  return <div className={css(base, props.style).class}>{'üëã Hello'}</div>
}
```



### CSSProps
Transformation pipeline.

```bash
Input: { PaddingX: [ 10, 30 ] }  ‚Üê NB: capitalized "template" expander(s).
‚Üì

CssTransform:
{
  hx: 12868363545722,
  style: [Getter],
  class: [Getter],
  toString: [Function: toString]
}

‚Üë.style: { paddingRight: 30, paddingLeft: 10 }
‚Üë.class: "foo-12868363545722"
‚Üë.toString(): "padding-right: 30px; padding-left: 10px;"

```

The `css` transformer function, generated like so:

```ts
const css = Style.transformer({ prefix: 'my-prefix' })
const base = css({ display: 'grid' });
```

...scopes/namespaces the root of the CSS class-names generated by the `base.class` property.  

When calling this property for the first time the [`CSSStyleSheet`](https://developer.mozilla.org/en-US/docs/Web/API/CSSStyleSheet) is generated
for the `{style}` based on the hash of the `CssProps` object, and inserted into the DOM.

The CSS class-name is generated from the hash of the style ( `\<prefix\>-<hx>` ) 
and calls to this function are memoized, keyed on the hash, to ensure the function 
is safe to use in "render heavy" frameworks like React (et al.).

## Scope

### @container 

The @container contextual rule-block, used for creating media-queries at the component level, can be
applied like so:

```tsx
const styles = {
  base: css({
    containerType: 'size', //            üåº ‚Üê NB: enable @container rules (width AND height).
    // containerType: 'inline-size', //  üåº ‚Üê NB: enable @container rules (width only).
  }),

  h2: css({
    color: 'red',
    fontSize: 50,
    transition: 'font-size 200ms, color 200ms',
  })
    .container('min-width: 400px', { fontSize: 90, color: 'blue' })
    .container('min-width: 600px', { fontSize: 150, color: 'salmon' })
    .container('max-height: 470px', { display: 'none' }).done,

};

return (
  <div className={styles.base.class}>
    <h2 className={styles.h2.class}>üëã Hello</h2>
  </div>
);
```

Arbitrary CSS selectors can be scoped within a base container like so:

```tsx
const base = css({ position: 'relative' })
  .rule('h2', { color: 'red' })
  .rule('h2 code', { color: 'blue' })
 

return (
  <div className={base.class}>
    <h2>
      {`üëã Hello`} <code>World</code>
    </h2>
  </div>
);
```

