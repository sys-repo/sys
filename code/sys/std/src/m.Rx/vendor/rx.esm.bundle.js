var $r=function(t,e){return $r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(r[n]=o[n])},$r(t,e)};function h(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");$r(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function Ft(t,e,r,o){function n(i){return i instanceof r?i:new r(function(f){f(i)})}return new(r||(r=Promise))(function(i,f){function u(d){try{a(o.next(d))}catch(w){f(w)}}function p(d){try{a(o.throw(d))}catch(w){f(w)}}function a(d){d.done?i(d.value):n(d.value).then(u,p)}a((o=o.apply(t,e||[])).next())})}function cr(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},o,n,i,f=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return f.next=u(0),f.throw=u(1),f.return=u(2),typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function u(a){return function(d){return p([a,d])}}function p(a){if(o)throw new TypeError("Generator is already executing.");for(;f&&(f=0,a[0]&&(r=0)),r;)try{if(o=1,n&&(i=a[0]&2?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[a[0]&2,i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,n=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){r=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(a[0]===6&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=e.call(t,r)}catch(d){a=[6,d],n=0}finally{o=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}function P(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],o=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function b(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var o=r.call(t),n,i=[],f;try{for(;(e===void 0||e-- >0)&&!(n=o.next()).done;)i.push(n.value)}catch(u){f={error:u}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(f)throw f.error}}return i}function y(t,e,r){if(r||arguments.length===2)for(var o=0,n=e.length,i;o<n;o++)(i||!(o in e))&&(i||(i=Array.prototype.slice.call(e,0,o)),i[o]=e[o]);return t.concat(i||Array.prototype.slice.call(e))}function Z(t){return this instanceof Z?(this.v=t,this):new Z(t)}function jt(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=r.apply(t,e||[]),n,i=[];return n=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",f),n[Symbol.asyncIterator]=function(){return this},n;function f(x){return function(S){return Promise.resolve(S).then(x,w)}}function u(x,S){o[x]&&(n[x]=function(g){return new Promise(function(U,T){i.push([x,g,U,T])>1||p(x,g)})},S&&(n[x]=S(n[x])))}function p(x,S){try{a(o[x](S))}catch(g){A(i[0][3],g)}}function a(x){x.value instanceof Z?Promise.resolve(x.value.v).then(d,w):A(i[0][2],x)}function d(x){p("next",x)}function w(x){p("throw",x)}function A(x,S){x(S),i.shift(),i.length&&p(i[0][0],i[0][1])}}function Pt(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof P=="function"?P(t):t[Symbol.iterator](),r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r);function o(i){r[i]=t[i]&&function(f){return new Promise(function(u,p){f=t[i](f),n(u,p,f.done,f.value)})}}function n(i,f,u,p){Promise.resolve(p).then(function(a){i({value:a,done:u})},f)}}function s(t){return typeof t=="function"}function C(t){var e=function(o){Error.call(o),o.stack=new Error().stack},r=t(e);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var lr=C(function(t){return function(r){t(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(o,n){return n+1+") "+o.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r}});function k(t,e){if(t){var r=t.indexOf(e);0<=r&&t.splice(r,1)}}var _=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,r,o,n,i;if(!this.closed){this.closed=!0;var f=this._parentage;if(f)if(this._parentage=null,Array.isArray(f))try{for(var u=P(f),p=u.next();!p.done;p=u.next()){var a=p.value;a.remove(this)}}catch(g){e={error:g}}finally{try{p&&!p.done&&(r=u.return)&&r.call(u)}finally{if(e)throw e.error}}else f.remove(this);var d=this.initialTeardown;if(s(d))try{d()}catch(g){i=g instanceof lr?g.errors:[g]}var w=this._finalizers;if(w){this._finalizers=null;try{for(var A=P(w),x=A.next();!x.done;x=A.next()){var S=x.value;try{Ct(S)}catch(g){i=i??[],g instanceof lr?i=y(y([],b(i)),b(g.errors)):i.push(g)}}}catch(g){o={error:g}}finally{try{x&&!x.done&&(n=A.return)&&n.call(A)}finally{if(o)throw o.error}}}if(i)throw new lr(i)}},t.prototype.add=function(e){var r;if(e&&e!==this)if(this.closed)Ct(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(e)}},t.prototype._hasParent=function(e){var r=this._parentage;return r===e||Array.isArray(r)&&r.includes(e)},t.prototype._addParent=function(e){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(e),r):r?[r,e]:e},t.prototype._removeParent=function(e){var r=this._parentage;r===e?this._parentage=null:Array.isArray(r)&&k(r,e)},t.prototype.remove=function(e){var r=this._finalizers;r&&k(r,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}();var Jr=_.EMPTY;function Sr(t){return t instanceof _||t&&"closed"in t&&s(t.remove)&&s(t.add)&&s(t.unsubscribe)}function Ct(t){s(t)?t():t.unsubscribe()}var W={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var or={setTimeout:function(t,e){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var n=or.delegate;return n?.setTimeout?n.setTimeout.apply(n,y([t,e],b(r))):setTimeout.apply(void 0,y([t,e],b(r)))},clearTimeout:function(t){var e=or.delegate;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Ar(t){or.setTimeout(function(){var e=W.onUnhandledError;if(e)e(t);else throw t})}function E(){}var Rt=function(){return Zr("C",void 0,void 0)}();function Mt(t){return Zr("E",void 0,t)}function kt(t){return Zr("N",t,void 0)}function Zr(t,e,r){return{kind:t,value:e,error:r}}var H=null;function nr(t){if(W.useDeprecatedSynchronousErrorHandling){var e=!H;if(e&&(H={errorThrown:!1,error:null}),t(),e){var r=H,o=r.errorThrown,n=r.error;if(H=null,o)throw n}}else t()}function Wt(t){W.useDeprecatedSynchronousErrorHandling&&H&&(H.errorThrown=!0,H.error=t)}var ir=function(t){h(e,t);function e(r){var o=t.call(this)||this;return o.isStopped=!1,r?(o.destination=r,Sr(r)&&r.add(o)):o.destination=_e,o}return e.create=function(r,o,n){return new X(r,o,n)},e.prototype.next=function(r){this.isStopped?Xr(kt(r),this):this._next(r)},e.prototype.error=function(r){this.isStopped?Xr(Mt(r),this):(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped?Xr(Rt,this):(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(_);var Ae=Function.prototype.bind;function Hr(t,e){return Ae.call(t,e)}var Ee=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var r=this.partialObserver;if(r.next)try{r.next(e)}catch(o){Er(o)}},t.prototype.error=function(e){var r=this.partialObserver;if(r.error)try{r.error(e)}catch(o){Er(o)}else Er(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(r){Er(r)}},t}(),X=function(t){h(e,t);function e(r,o,n){var i=t.call(this)||this,f;if(s(r)||!r)f={next:r??void 0,error:o??void 0,complete:n??void 0};else{var u;i&&W.useDeprecatedNextContext?(u=Object.create(r),u.unsubscribe=function(){return i.unsubscribe()},f={next:r.next&&Hr(r.next,u),error:r.error&&Hr(r.error,u),complete:r.complete&&Hr(r.complete,u)}):f=r}return i.destination=new Ee(f),i}return e}(ir);function Er(t){W.useDeprecatedSynchronousErrorHandling?Wt(t):Ar(t)}function Oe(t){throw t}function Xr(t,e){var r=W.onStoppedNotification;r&&or.setTimeout(function(){return r(t,e)})}var _e={closed:!0,next:E,error:Oe,complete:E};var rr=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function I(t){return t}function Lt(t){return t.length===0?I:t.length===1?t[0]:function(r){return t.reduce(function(o,n){return n(o)},r)}}var v=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,o){var n=this,i=Te(e)?e:new X(e,r,o);return nr(function(){var f=n,u=f.operator,p=f.source;i.add(u?u.call(i,p):p?n._subscribe(i):n._trySubscribe(i))}),i},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){e.error(r)}},t.prototype.forEach=function(e,r){var o=this;return r=Vt(r),new r(function(n,i){var f=new X({next:function(u){try{e(u)}catch(p){i(p),f.unsubscribe()}},error:i,complete:n});o.subscribe(f)})},t.prototype._subscribe=function(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)},t.prototype[rr]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return Lt(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=Vt(e),new e(function(o,n){var i;r.subscribe(function(f){return i=f},function(f){return n(f)},function(){return o(i)})})},t.create=function(e){return new t(e)},t}();function Vt(t){var e;return(e=t??W.Promise)!==null&&e!==void 0?e:Promise}function Ie(t){return t&&s(t.next)&&s(t.error)&&s(t.complete)}function Te(t){return t&&t instanceof ir||Ie(t)&&Sr(t)}function rt(t){return s(t?.lift)}function m(t){return function(e){if(rt(e))return e.lift(function(r){try{return t(r,this)}catch(o){this.error(o)}});throw new TypeError("Unable to lift unknown Observable type")}}function c(t,e,r,o,n){return new tt(t,e,r,o,n)}var tt=function(t){h(e,t);function e(r,o,n,i,f,u){var p=t.call(this,r)||this;return p.onFinalize=f,p.shouldUnsubscribe=u,p._next=o?function(a){try{o(a)}catch(d){r.error(d)}}:t.prototype._next,p._error=i?function(a){try{i(a)}catch(d){r.error(d)}finally{this.unsubscribe()}}:t.prototype._error,p._complete=n?function(){try{n()}catch(a){r.error(a)}finally{this.unsubscribe()}}:t.prototype._complete,p}return e.prototype.unsubscribe=function(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var o=this.closed;t.prototype.unsubscribe.call(this),!o&&((r=this.onFinalize)===null||r===void 0||r.call(this))}},e}(ir);function Or(){return m(function(t,e){var r=null;t._refCount++;var o=c(e,void 0,void 0,void 0,function(){if(!t||t._refCount<=0||0<--t._refCount){r=null;return}var n=t._connection,i=r;r=null,n&&(!i||n===i)&&n.unsubscribe(),e.unsubscribe()});t.subscribe(o),o.closed||(r=t.connect())})}var _r=function(t){h(e,t);function e(r,o){var n=t.call(this)||this;return n.source=r,n.subjectFactory=o,n._subject=null,n._refCount=0,n._connection=null,rt(r)&&(n.lift=r.lift),n}return e.prototype._subscribe=function(r){return this.getSubject().subscribe(r)},e.prototype.getSubject=function(){var r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype._teardown=function(){this._refCount=0;var r=this._connection;this._subject=this._connection=null,r?.unsubscribe()},e.prototype.connect=function(){var r=this,o=this._connection;if(!o){o=this._connection=new _;var n=this.getSubject();o.add(this.source.subscribe(c(n,void 0,function(){r._teardown(),n.complete()},function(i){r._teardown(),n.error(i)},function(){return r._teardown()}))),o.closed&&(this._connection=null,o=_.EMPTY)}return o},e.prototype.refCount=function(){return Or()(this)},e}(v);var et={now:function(){return(et.delegate||performance).now()},delegate:void 0};var Y={schedule:function(t){var e=requestAnimationFrame,r=cancelAnimationFrame,o=Y.delegate;o&&(e=o.requestAnimationFrame,r=o.cancelAnimationFrame);var n=e(function(i){r=void 0,t(i)});return new _(function(){return r?.(n)})},requestAnimationFrame:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Y.delegate;return(r?.requestAnimationFrame||requestAnimationFrame).apply(void 0,y([],b(t)))},cancelAnimationFrame:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Y.delegate;return(r?.cancelAnimationFrame||cancelAnimationFrame).apply(void 0,y([],b(t)))},delegate:void 0};function Fe(t){return new v(function(e){var r=t||et,o=r.now(),n=0,i=function(){e.closed||(n=Y.requestAnimationFrame(function(f){n=0;var u=r.now();e.next({timestamp:t?u:f,elapsed:u-o}),i()}))};return i(),function(){n&&Y.cancelAnimationFrame(n)}})}var _i=Fe();var ot=C(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}});var O=function(t){h(e,t);function e(){var r=t.call(this)||this;return r.closed=!1,r.currentObservers=null,r.observers=[],r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return e.prototype.lift=function(r){var o=new Nt(this,this);return o.operator=r,o},e.prototype._throwIfClosed=function(){if(this.closed)throw new ot},e.prototype.next=function(r){var o=this;nr(function(){var n,i;if(o._throwIfClosed(),!o.isStopped){o.currentObservers||(o.currentObservers=Array.from(o.observers));try{for(var f=P(o.currentObservers),u=f.next();!u.done;u=f.next()){var p=u.value;p.next(r)}}catch(a){n={error:a}}finally{try{u&&!u.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}}})},e.prototype.error=function(r){var o=this;nr(function(){if(o._throwIfClosed(),!o.isStopped){o.hasError=o.isStopped=!0,o.thrownError=r;for(var n=o.observers;n.length;)n.shift().error(r)}})},e.prototype.complete=function(){var r=this;nr(function(){if(r._throwIfClosed(),!r.isStopped){r.isStopped=!0;for(var o=r.observers;o.length;)o.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(r){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,r)},e.prototype._subscribe=function(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)},e.prototype._innerSubscribe=function(r){var o=this,n=this,i=n.hasError,f=n.isStopped,u=n.observers;return i||f?Jr:(this.currentObservers=null,u.push(r),new _(function(){o.currentObservers=null,k(u,r)}))},e.prototype._checkFinalizedStatuses=function(r){var o=this,n=o.hasError,i=o.thrownError,f=o.isStopped;n?r.error(i):f&&r.complete()},e.prototype.asObservable=function(){var r=new v;return r.source=this,r},e.create=function(r,o){return new Nt(r,o)},e}(v);var Nt=function(t){h(e,t);function e(r,o){var n=t.call(this)||this;return n.destination=r,n.source=o,n}return e.prototype.next=function(r){var o,n;(n=(o=this.destination)===null||o===void 0?void 0:o.next)===null||n===void 0||n.call(o,r)},e.prototype.error=function(r){var o,n;(n=(o=this.destination)===null||o===void 0?void 0:o.error)===null||n===void 0||n.call(o,r)},e.prototype.complete=function(){var r,o;(o=(r=this.destination)===null||r===void 0?void 0:r.complete)===null||o===void 0||o.call(r)},e.prototype._subscribe=function(r){var o,n;return(n=(o=this.source)===null||o===void 0?void 0:o.subscribe(r))!==null&&n!==void 0?n:Jr},e}(O);var nt=function(t){h(e,t);function e(r){var o=t.call(this)||this;return o._value=r,o}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(r){var o=t.prototype._subscribe.call(this,r);return!o.closed&&r.next(this._value),o},e.prototype.getValue=function(){var r=this,o=r.hasError,n=r.thrownError,i=r._value;if(o)throw n;return this._throwIfClosed(),i},e.prototype.next=function(r){t.prototype.next.call(this,this._value=r)},e}(O);var fr={now:function(){return(fr.delegate||Date).now()},delegate:void 0};var it=function(t){h(e,t);function e(r,o,n){r===void 0&&(r=1/0),o===void 0&&(o=1/0),n===void 0&&(n=fr);var i=t.call(this)||this;return i._bufferSize=r,i._windowTime=o,i._timestampProvider=n,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=o===1/0,i._bufferSize=Math.max(1,r),i._windowTime=Math.max(1,o),i}return e.prototype.next=function(r){var o=this,n=o.isStopped,i=o._buffer,f=o._infiniteTimeWindow,u=o._timestampProvider,p=o._windowTime;n||(i.push(r),!f&&i.push(u.now()+p)),this._trimBuffer(),t.prototype.next.call(this,r)},e.prototype._subscribe=function(r){this._throwIfClosed(),this._trimBuffer();for(var o=this._innerSubscribe(r),n=this,i=n._infiniteTimeWindow,f=n._buffer,u=f.slice(),p=0;p<u.length&&!r.closed;p+=i?1:2)r.next(u[p]);return this._checkFinalizedStatuses(r),o},e.prototype._trimBuffer=function(){var r=this,o=r._bufferSize,n=r._timestampProvider,i=r._buffer,f=r._infiniteTimeWindow,u=(f?1:2)*o;if(o<1/0&&u<i.length&&i.splice(0,i.length-u),!f){for(var p=n.now(),a=0,d=1;d<i.length&&i[d]<=p;d+=2)a=d;a&&i.splice(0,a+1)}},e}(O);var ft=function(t){h(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r._value=null,r._hasValue=!1,r._isComplete=!1,r}return e.prototype._checkFinalizedStatuses=function(r){var o=this,n=o.hasError,i=o._hasValue,f=o._value,u=o.thrownError,p=o.isStopped,a=o._isComplete;n?r.error(u):(p||a)&&(i&&r.next(f),r.complete())},e.prototype.next=function(r){this.isStopped||(this._value=r,this._hasValue=!0)},e.prototype.complete=function(){var r=this,o=r._hasValue,n=r._value,i=r._isComplete;i||(this._isComplete=!0,o&&t.prototype.next.call(this,n),t.prototype.complete.call(this))},e}(O);var Ut=function(t){h(e,t);function e(r,o){return t.call(this)||this}return e.prototype.schedule=function(r,o){return o===void 0&&(o=0),this},e}(_);var sr={setInterval:function(t,e){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var n=sr.delegate;return n?.setInterval?n.setInterval.apply(n,y([t,e],b(r))):setInterval.apply(void 0,y([t,e],b(r)))},clearInterval:function(t){var e=sr.delegate;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var D=function(t){h(e,t);function e(r,o){var n=t.call(this,r,o)||this;return n.scheduler=r,n.work=o,n.pending=!1,n}return e.prototype.schedule=function(r,o){var n;if(o===void 0&&(o=0),this.closed)return this;this.state=r;var i=this.id,f=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(f,i,o)),this.pending=!0,this.delay=o,this.id=(n=this.id)!==null&&n!==void 0?n:this.requestAsyncId(f,this.id,o),this},e.prototype.requestAsyncId=function(r,o,n){return n===void 0&&(n=0),sr.setInterval(r.flush.bind(r,this),n)},e.prototype.recycleAsyncId=function(r,o,n){if(n===void 0&&(n=0),n!=null&&this.delay===n&&this.pending===!1)return o;o!=null&&sr.clearInterval(o)},e.prototype.execute=function(r,o){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(r,o);if(n)return n;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(r,o){var n=!1,i;try{this.work(r)}catch(f){n=!0,i=f||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),i},e.prototype.unsubscribe=function(){if(!this.closed){var r=this,o=r.id,n=r.scheduler,i=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,k(i,this),o!=null&&(this.id=this.recycleAsyncId(n,o,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e}(Ut);var je=1,ut,at={};function qt(t){return t in at?(delete at[t],!0):!1}var mt={setImmediate:function(t){var e=je++;return at[e]=!0,ut||(ut=Promise.resolve()),ut.then(function(){return qt(e)&&t()}),e},clearImmediate:function(t){qt(t)}};var Pe=mt.setImmediate,Ce=mt.clearImmediate,vr={setImmediate:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=vr.delegate;return(r?.setImmediate||Pe).apply(void 0,y([],b(t)))},clearImmediate:function(t){var e=vr.delegate;return(e?.clearImmediate||Ce)(t)},delegate:void 0};var Dt=function(t){h(e,t);function e(r,o){var n=t.call(this,r,o)||this;return n.scheduler=r,n.work=o,n}return e.prototype.requestAsyncId=function(r,o,n){return n===void 0&&(n=0),n!==null&&n>0?t.prototype.requestAsyncId.call(this,r,o,n):(r.actions.push(this),r._scheduled||(r._scheduled=vr.setImmediate(r.flush.bind(r,void 0))))},e.prototype.recycleAsyncId=function(r,o,n){var i;if(n===void 0&&(n=0),n!=null?n>0:this.delay>0)return t.prototype.recycleAsyncId.call(this,r,o,n);var f=r.actions;o!=null&&((i=f[f.length-1])===null||i===void 0?void 0:i.id)!==o&&(vr.clearImmediate(o),r._scheduled===o&&(r._scheduled=void 0))},e}(D);var Ir=function(){function t(e,r){r===void 0&&(r=t.now),this.schedulerActionCtor=e,this.now=r}return t.prototype.schedule=function(e,r,o){return r===void 0&&(r=0),new this.schedulerActionCtor(this,e).schedule(o,r)},t.now=fr.now,t}();var z=function(t){h(e,t);function e(r,o){o===void 0&&(o=Ir.now);var n=t.call(this,r,o)||this;return n.actions=[],n._active=!1,n}return e.prototype.flush=function(r){var o=this.actions;if(this._active){o.push(r);return}var n;this._active=!0;do if(n=r.execute(r.state,r.delay))break;while(r=o.shift());if(this._active=!1,n){for(;r=o.shift();)r.unsubscribe();throw n}},e}(Ir);var zt=function(t){h(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this._active=!0;var o=this._scheduled;this._scheduled=void 0;var n=this.actions,i;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while((r=n[0])&&r.id===o&&n.shift());if(this._active=!1,i){for(;(r=n[0])&&r.id===o&&n.shift();)r.unsubscribe();throw i}},e}(z);var Re=new zt(Dt);var F=new z(D),Tr=F;var Yt=function(t){h(e,t);function e(r,o){var n=t.call(this,r,o)||this;return n.scheduler=r,n.work=o,n}return e.prototype.schedule=function(r,o){return o===void 0&&(o=0),o>0?t.prototype.schedule.call(this,r,o):(this.delay=o,this.state=r,this.scheduler.flush(this),this)},e.prototype.execute=function(r,o){return o>0||this.closed?t.prototype.execute.call(this,r,o):this._execute(r,o)},e.prototype.requestAsyncId=function(r,o,n){return n===void 0&&(n=0),n!=null&&n>0||n==null&&this.delay>0?t.prototype.requestAsyncId.call(this,r,o,n):(r.flush(this),0)},e}(D);var Gt=function(t){h(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(z);var Me=new Gt(Yt);var Bt=function(t){h(e,t);function e(r,o){var n=t.call(this,r,o)||this;return n.scheduler=r,n.work=o,n}return e.prototype.requestAsyncId=function(r,o,n){return n===void 0&&(n=0),n!==null&&n>0?t.prototype.requestAsyncId.call(this,r,o,n):(r.actions.push(this),r._scheduled||(r._scheduled=Y.requestAnimationFrame(function(){return r.flush(void 0)})))},e.prototype.recycleAsyncId=function(r,o,n){var i;if(n===void 0&&(n=0),n!=null?n>0:this.delay>0)return t.prototype.recycleAsyncId.call(this,r,o,n);var f=r.actions;o!=null&&o===r._scheduled&&((i=f[f.length-1])===null||i===void 0?void 0:i.id)!==o&&(Y.cancelAnimationFrame(o),r._scheduled=void 0)},e}(D);var Kt=function(t){h(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this._active=!0;var o;r?o=r.id:(o=this._scheduled,this._scheduled=void 0);var n=this.actions,i;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while((r=n[0])&&r.id===o&&n.shift());if(this._active=!1,i){for(;(r=n[0])&&r.id===o&&n.shift();)r.unsubscribe();throw i}},e}(z);var Qt=new Kt(Bt);var ke=function(t){h(e,t);function e(r,o){r===void 0&&(r=$t),o===void 0&&(o=1/0);var n=t.call(this,r,function(){return n.frame})||this;return n.maxFrames=o,n.frame=0,n.index=-1,n}return e.prototype.flush=function(){for(var r=this,o=r.actions,n=r.maxFrames,i,f;(f=o[0])&&f.delay<=n&&(o.shift(),this.frame=f.delay,!(i=f.execute(f.state,f.delay))););if(i){for(;f=o.shift();)f.unsubscribe();throw i}},e.frameTimeFactor=10,e}(z);var $t=function(t){h(e,t);function e(r,o,n){n===void 0&&(n=r.index+=1);var i=t.call(this,r,o)||this;return i.scheduler=r,i.work=o,i.index=n,i.active=!0,i.index=r.index=n,i}return e.prototype.schedule=function(r,o){if(o===void 0&&(o=0),Number.isFinite(o)){if(!this.id)return t.prototype.schedule.call(this,r,o);this.active=!1;var n=new e(this.scheduler,this.work);return this.add(n),n.schedule(r,o)}else return _.EMPTY},e.prototype.requestAsyncId=function(r,o,n){n===void 0&&(n=0),this.delay=r.frame+n;var i=r.actions;return i.push(this),i.sort(e.sortActions),1},e.prototype.recycleAsyncId=function(r,o,n){n===void 0&&(n=0)},e.prototype._execute=function(r,o){if(this.active===!0)return t.prototype._execute.call(this,r,o)},e.sortActions=function(r,o){return r.delay===o.delay?r.index===o.index?0:r.index>o.index?1:-1:r.delay>o.delay?1:-1},e}(D);var M=new v(function(t){return t.complete()});function ur(t){return t&&s(t.schedule)}function Jt(t){return t[t.length-1]}function R(t){return ur(Jt(t))?t.pop():void 0}function Fr(t,e){return typeof Jt(t)=="number"?t.pop():e}var dr=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function jr(t){return s(t?.then)}function Pr(t){return s(t[rr])}function Cr(t){return Symbol.asyncIterator&&s(t?.[Symbol.asyncIterator])}function Rr(t){return new TypeError("You provided "+(t!==null&&typeof t=="object"?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function We(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Mr=We();function kr(t){return s(t?.[Mr])}function Wr(t){return jt(this,arguments,function(){var r,o,n,i;return cr(this,function(f){switch(f.label){case 0:r=t.getReader(),f.label=1;case 1:f.trys.push([1,,9,10]),f.label=2;case 2:return[4,Z(r.read())];case 3:return o=f.sent(),n=o.value,i=o.done,i?[4,Z(void 0)]:[3,5];case 4:return[2,f.sent()];case 5:return[4,Z(n)];case 6:return[4,f.sent()];case 7:return f.sent(),[3,2];case 8:return[3,10];case 9:return r.releaseLock(),[7];case 10:return[2]}})})}function Lr(t){return s(t?.getReader)}function l(t){if(t instanceof v)return t;if(t!=null){if(Pr(t))return Le(t);if(dr(t))return Ve(t);if(jr(t))return Ne(t);if(Cr(t))return Zt(t);if(kr(t))return Ue(t);if(Lr(t))return qe(t)}throw Rr(t)}function Le(t){return new v(function(e){var r=t[rr]();if(s(r.subscribe))return r.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Ve(t){return new v(function(e){for(var r=0;r<t.length&&!e.closed;r++)e.next(t[r]);e.complete()})}function Ne(t){return new v(function(e){t.then(function(r){e.closed||(e.next(r),e.complete())},function(r){return e.error(r)}).then(null,Ar)})}function Ue(t){return new v(function(e){var r,o;try{for(var n=P(t),i=n.next();!i.done;i=n.next()){var f=i.value;if(e.next(f),e.closed)return}}catch(u){r={error:u}}finally{try{i&&!i.done&&(o=n.return)&&o.call(n)}finally{if(r)throw r.error}}e.complete()})}function Zt(t){return new v(function(e){De(t,e).catch(function(r){return e.error(r)})})}function qe(t){return Zt(Wr(t))}function De(t,e){var r,o,n,i;return Ft(this,void 0,void 0,function(){var f,u;return cr(this,function(p){switch(p.label){case 0:p.trys.push([0,5,6,11]),r=Pt(t),p.label=1;case 1:return[4,r.next()];case 2:if(o=p.sent(),!!o.done)return[3,4];if(f=o.value,e.next(f),e.closed)return[2];p.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return u=p.sent(),n={error:u},[3,11];case 6:return p.trys.push([6,,9,10]),o&&!o.done&&(i=r.return)?[4,i.call(r)]:[3,8];case 7:p.sent(),p.label=8;case 8:return[3,10];case 9:if(n)throw n.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function j(t,e,r,o,n){o===void 0&&(o=0),n===void 0&&(n=!1);var i=e.schedule(function(){r(),n?t.add(this.schedule(null,o)):this.unsubscribe()},o);if(t.add(i),!n)return i}function Q(t,e){return e===void 0&&(e=0),m(function(r,o){r.subscribe(c(o,function(n){return j(o,t,function(){return o.next(n)},e)},function(){return j(o,t,function(){return o.complete()},e)},function(n){return j(o,t,function(){return o.error(n)},e)}))})}function tr(t,e){return e===void 0&&(e=0),m(function(r,o){o.add(t.schedule(function(){return r.subscribe(o)},e))})}function Ht(t,e){return l(t).pipe(tr(e),Q(e))}function Xt(t,e){return l(t).pipe(tr(e),Q(e))}function re(t,e){return new v(function(r){var o=0;return e.schedule(function(){o===t.length?r.complete():(r.next(t[o++]),r.closed||this.schedule())})})}function pt(t,e){return new v(function(r){var o;return j(r,e,function(){o=t[Mr](),j(r,e,function(){var n,i,f;try{n=o.next(),i=n.value,f=n.done}catch(u){r.error(u);return}f?r.complete():r.next(i)},0,!0)}),function(){return s(o?.return)&&o.return()}})}function Vr(t,e){if(!t)throw new Error("Iterable cannot be null");return new v(function(r){j(r,e,function(){var o=t[Symbol.asyncIterator]();j(r,e,function(){o.next().then(function(n){n.done?r.complete():r.next(n.value)})},0,!0)})})}function te(t,e){return Vr(Wr(t),e)}function ct(t,e){if(t!=null){if(Pr(t))return Ht(t,e);if(dr(t))return re(t,e);if(jr(t))return Xt(t,e);if(Cr(t))return Vr(t,e);if(kr(t))return pt(t,e);if(Lr(t))return te(t,e)}throw Rr(t)}function L(t,e){return e?ct(t,e):l(t)}function hr(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=R(t);return L(t,r)}function lt(t,e){var r=s(t)?t:function(){return t},o=function(n){return n.error(r())};return new v(e?function(n){return e.schedule(o,0,n)}:o)}var st;(function(t){t.NEXT="N",t.ERROR="E",t.COMPLETE="C"})(st||(st={}));var ee=function(){function t(e,r,o){this.kind=e,this.value=r,this.error=o,this.hasValue=e==="N"}return t.prototype.observe=function(e){return oe(this,e)},t.prototype.do=function(e,r,o){var n=this,i=n.kind,f=n.value,u=n.error;return i==="N"?e?.(f):i==="E"?r?.(u):o?.()},t.prototype.accept=function(e,r,o){var n;return s((n=e)===null||n===void 0?void 0:n.next)?this.observe(e):this.do(e,r,o)},t.prototype.toObservable=function(){var e=this,r=e.kind,o=e.value,n=e.error,i=r==="N"?hr(o):r==="E"?lt(function(){return n}):r==="C"?M:0;if(!i)throw new TypeError("Unexpected notification kind "+r);return i},t.createNext=function(e){return new t("N",e)},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t}();function oe(t,e){var r,o,n,i=t,f=i.kind,u=i.value,p=i.error;if(typeof f!="string")throw new TypeError('Invalid notification, missing "kind"');f==="N"?(r=e.next)===null||r===void 0||r.call(e,u):f==="E"?(o=e.error)===null||o===void 0||o.call(e,p):(n=e.complete)===null||n===void 0||n.call(e)}var G=C(function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}});function ne(t,e){var r=typeof e=="object";return new Promise(function(o,n){var i=!1,f;t.subscribe({next:function(u){f=u,i=!0},error:n,complete:function(){i?o(f):r?o(e.defaultValue):n(new G)}})})}function ie(t,e){var r=typeof e=="object";return new Promise(function(o,n){var i=new X({next:function(f){o(f),i.unsubscribe()},error:n,complete:function(){r?o(e.defaultValue):n(new G)}});t.subscribe(i)})}var fe=C(function(t){return function(){t(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}});var ue=C(function(t){return function(r){t(this),this.name="NotFoundError",this.message=r}});var ae=C(function(t){return function(r){t(this),this.name="SequenceError",this.message=r}});function xr(t){return t instanceof Date&&!isNaN(t)}var me=C(function(t){return function(r){r===void 0&&(r=null),t(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=r}});function Nr(t,e){var r=xr(t)?{first:t}:typeof t=="number"?{each:t}:t,o=r.first,n=r.each,i=r.with,f=i===void 0?ze:i,u=r.scheduler,p=u===void 0?e??F:u,a=r.meta,d=a===void 0?null:a;if(o==null&&n==null)throw new TypeError("No timeout provided.");return m(function(w,A){var x,S,g=null,U=0,T=function(K){S=j(A,p,function(){try{x.unsubscribe(),l(f({meta:d,lastValue:g,seen:U})).subscribe(A)}catch(Se){A.error(Se)}},K)};x=w.subscribe(c(A,function(K){S?.unsubscribe(),U++,A.next(g=K),n>0&&T(n)},void 0,void 0,function(){S?.closed||S?.unsubscribe(),g=null})),!U&&T(o!=null?typeof o=="number"?o:+o-p.now():n)})}function ze(t){throw new me(t)}function q(t,e){return m(function(r,o){var n=0;r.subscribe(c(o,function(i){o.next(t.call(e,i,n++))}))})}var cm=Array.isArray;var Om=Array.isArray;var _m=Object.prototype;function qr(t,e,r,o,n,i,f,u){var p=[],a=0,d=0,w=!1,A=function(){w&&!p.length&&!a&&e.complete()},x=function(g){return a<o?S(g):p.push(g)},S=function(g){i&&e.next(g),a++;var U=!1;l(r(g,d++)).subscribe(c(e,function(T){n?.(T),i?x(T):e.next(T)},function(){U=!0},void 0,function(){if(U)try{a--;for(var T=function(){var K=p.shift();f?j(e,f,function(){return S(K)}):S(K)};p.length&&a<o;)T();A()}catch(K){e.error(K)}}))};return t.subscribe(c(e,x,function(){w=!0,A()})),function(){u?.()}}function V(t,e,r){return r===void 0&&(r=1/0),s(e)?V(function(o,n){return q(function(i,f){return e(o,i,n,f)})(l(t(o,n)))},r):(typeof e=="number"&&(r=e),m(function(o,n){return qr(o,n,t,r)}))}function $(t){return t===void 0&&(t=1/0),V(I,t)}function br(){return $(1)}function er(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return br()(L(t,R(t)))}function N(t,e,r){t===void 0&&(t=0),r===void 0&&(r=Tr);var o=-1;return e!=null&&(ur(e)?r=e:o=e),new v(function(n){var i=xr(t)?+t-r.now():t;i<0&&(i=0);var f=0;return r.schedule(function(){n.closed||(n.next(f++),0<=o?this.schedule(void 0,o):n.complete())},i)})}function dt(t,e){return t===void 0&&(t=0),e===void 0&&(e=F),t<0&&(t=0),N(t,t,e)}function pe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=R(t),o=Fr(t,1/0),n=t;return n.length?n.length===1?l(n[0]):$(o)(L(n,r)):M}var Ke=new v(E);var ec=Array.isArray;function B(t,e){return m(function(r,o){var n=0;r.subscribe(c(o,function(i){return t.call(e,i,n++)&&o.next(i)}))})}function Dr(t){return m(function(e,r){var o=!1,n=null,i=null,f=!1,u=function(){if(i?.unsubscribe(),i=null,o){o=!1;var a=n;n=null,r.next(a)}f&&r.complete()},p=function(){i=null,f&&r.complete()};e.subscribe(c(r,function(a){o=!0,n=a,i||l(t(a)).subscribe(i=c(r,u,p))},function(){f=!0,(!o||!i||i.closed)&&r.complete()}))})}function ht(t,e){return e===void 0&&(e=F),Dr(function(){return N(t,e)})}function zr(t){return m(function(e,r){var o=null,n=!1,i;o=e.subscribe(c(r,void 0,void 0,function(f){i=l(t(f,zr(t)(e))),o?(o.unsubscribe(),o=null,i.subscribe(r)):n=!0})),n&&(o.unsubscribe(),o=null,i.subscribe(r))})}function xt(t,e,r,o,n){return function(i,f){var u=r,p=e,a=0;i.subscribe(c(f,function(d){var w=a++;p=u?t(p,d,w):(u=!0,d),o&&f.next(p)},n&&function(){u&&f.next(p),f.complete()}))}}function bt(t,e){return e===void 0&&(e=F),m(function(r,o){var n=null,i=null,f=null,u=function(){if(n){n.unsubscribe(),n=null;var a=i;i=null,o.next(a)}};function p(){var a=f+t,d=e.now();if(d<a){n=this.schedule(void 0,a-d),o.add(n);return}u()}r.subscribe(c(o,function(a){i=a,f=e.now(),n||(n=e.schedule(p,t),o.add(n))},function(){u(),o.complete()},void 0,function(){i=n=null}))})}function mr(t){return m(function(e,r){var o=!1;e.subscribe(c(r,function(n){o=!0,r.next(n)},function(){o||r.next(t),r.complete()}))})}function J(t){return t<=0?function(){return M}:m(function(e,r){var o=0;e.subscribe(c(r,function(n){++o<=t&&(r.next(n),t<=o&&r.complete())}))})}function Yr(){return m(function(t,e){t.subscribe(c(e,E))})}function Gr(t){return q(function(){return t})}function wr(t,e){return e?function(r){return er(e.pipe(J(1),Yr()),r.pipe(wr(t)))}:V(function(r,o){return l(t(r,o)).pipe(J(1),Gr(r))})}function yt(t,e){e===void 0&&(e=F);var r=N(t,e);return wr(function(){return r})}function pr(t,e){return e===void 0&&(e=I),t=t??Xe,m(function(r,o){var n,i=!0;r.subscribe(c(o,function(f){var u=e(f);(i||!t(n,u))&&(i=!1,n=u,o.next(f))}))})}function Xe(t,e){return t===e}function gt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=R(t),o=Fr(t,1/0);return m(function(n,i){$(o)(L(y([n],b(t)),r)).subscribe(i)})}function wt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return gt.apply(void 0,y([],b(t)))}function Et(t,e){return m(xt(t,e,arguments.length>=2,!0))}function Ot(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=R(t);return m(function(o,n){(r?er(t,o,r):er(t,o)).subscribe(n)})}function _t(t){return m(function(e,r){l(t).subscribe(c(r,function(){return r.complete()},E)),!r.closed&&e.subscribe(r)})}function It(t,e,r){var o=s(t)||e||r?{next:t,error:e,complete:r}:t;return o?m(function(n,i){var f;(f=o.subscribe)===null||f===void 0||f.call(o);var u=!0;n.subscribe(c(i,function(p){var a;(a=o.next)===null||a===void 0||a.call(o,p),i.next(p)},function(){var p;u=!1,(p=o.complete)===null||p===void 0||p.call(o),i.complete()},function(p){var a;u=!1,(a=o.error)===null||a===void 0||a.call(o,p),i.error(p)},function(){var p,a;u&&((p=o.unsubscribe)===null||p===void 0||p.call(o)),(a=o.finalize)===null||a===void 0||a.call(o)}))}):I}function Qr(t,e){return m(function(r,o){var n=e??{},i=n.leading,f=i===void 0?!0:i,u=n.trailing,p=u===void 0?!1:u,a=!1,d=null,w=null,A=!1,x=function(){w?.unsubscribe(),w=null,p&&(U(),A&&o.complete())},S=function(){w=null,A&&o.complete()},g=function(T){return w=l(t(T)).subscribe(c(o,x,S))},U=function(){if(a){a=!1;var T=d;d=null,o.next(T),!A&&g(T)}};r.subscribe(c(o,function(T){a=!0,d=T,!(w&&!w.closed)&&(f?U():g(T))},function(){A=!0,!(p&&a&&w&&!w.closed)&&o.complete()}))})}function Tt(t,e,r){e===void 0&&(e=F);var o=N(t,e);return Qr(function(){return o},r)}var DE=pr;export{nt as BehaviorSubject,M as EMPTY,v as Observable,O as Subject,Qt as animationFrameScheduler,ht as auditTime,zr as catchError,bt as debounceTime,mr as defaultIfEmpty,yt as delay,pr as distinctUntilChanged,DE as distinctWhile,B as filter,ie as firstValueFrom,dt as interval,ne as lastValueFrom,q as map,pe as merge,wt as mergeWith,Q as observeOn,hr as of,Et as scan,Ot as startWith,J as take,_t as takeUntil,It as tap,Tt as throttleTime,Nr as timeout,N as timer};
