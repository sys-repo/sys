#
#  System Dependencies ("imports")
#
#        ./ðŸ’¦
#          |            deno.json
#          |(write)  â†’  imports.json
#          |(write)  â†’  package.json
#
#  This is the "single-source-of-truth" with regards to dependencies and versioning.
#  Import maps (in the `deno.json` and `package.json` files) are auto-generated
#  from this config definition.
#
#  Also, as a programmatic API, other downstream dependencies
#  (such as template generators, see `@sys/tmpl`) use this definition
#  file to calculate the "latest" versions to inject into, say,
#  a `package.json` file for a scaffolded project.
#
groups:
  std/deno:
    # Deno standard libs ("std"):
    - import: jsr:@std/async@1.0.13
    - import: jsr:@std/datetime@0.225.5
    - import: jsr:@std/dotenv@0.225.5
    - import: jsr:@std/encoding@1.0.10
    - import: jsr:@std/fs@1.0.19
    - import: jsr:@std/http@1.0.19
      subpaths: [file-server]
    - import: jsr:@std/path@1.1.1
    - import: jsr:@std/semver@1.0.5
    - import: jsr:@std/testing@1.0.14
    - import: jsr:@std/uuid@1.0.9

  std/testing:
    - import: npm:chai@5.2.1
      subpaths: ['', 'chai.js']

  automerge:
    # https://automerge.org
    - import: npm:@automerge/automerge@2.2.9
      subpaths: [next]
    - import: npm:@automerge/automerge-repo@2.1.0
    - import: npm:@automerge/automerge-repo-network-websocket@2.1.0
    - import: npm:@automerge/automerge-repo-storage-indexeddb@2.1.0
    - import: npm:@automerge/automerge-repo-storage-nodefs@2.1.0
    - import: npm:@automerge/prosemirror@0.0.13

  crypto:
    - import: npm:@noble/hashes@1.8.0
      wildcard: true

  build/tools:
    - import: npm:@vitejs/plugin-react-swc@3.10.2
    - import: npm:@deno/vite-plugin@1.0.5
    - import: npm:rollup@4.45.1
    - import: npm:vite@7.0.4
    - import: npm:vite-plugin-wasm@3.5.0

  ui/react:
    - import: npm:@types/react@18.3.18
    - import: npm:@types/react-dom@18.3.5
    - import: npm:react@18.3.1
    - import: npm:react-dom@18.3.1

  ui/service-worker:
    - import: npm:workbox-core@7.3.0
    - import: npm:workbox-routing@7.3.0
    - import: npm:workbox-strategies@7.3.0
    - import: npm:workbox-range-requests@7.3.0
    - import: npm:workbox-expiration@7.3.0
    - import: npm:workbox-cacheable-response@7.3.0

  ui/prosemirror:
    - import: npm:prosemirror-model@1.25.2
    - import: npm:prosemirror-state@1.4.3
    - import: npm:prosemirror-view@1.40.0
      subpaths: [style/prosemirror.css]
    - import: npm:prosemirror-example-setup@1.2.3
      subpaths: [style/style.css]
    - import: npm:prosemirror-schema-basic@1.2.4

  ai:
    - import: npm:ai@4.3.19
    - import: npm:@ai-sdk/openai@1.3.23
    - import: npm:ollama-ai-provider@1.2.0
    - import: npm:@mastra/core@0.10.15
      subpaths: ['agent']
    - import: npm:@mastra/libsql@0.11.0
    - import: npm:@mastra/loggers@0.10.3
    - import: npm:@mastra/memory@0.11.3
    - import: npm:ollama@0.5.16

deno.json:
  - group: std/deno
  - group: std/testing
  - group: crypto
  - group: ai
  - group: automerge
  - group: ui/service-worker
  - group: ui/prosemirror

  # CLI tools:
  - import: jsr:@cliffy/keypress@1.0.0-rc.8
  - import: jsr:@cliffy/prompt@1.0.0-rc.8
  - import: jsr:@cliffy/table@1.0.0-rc.8

  # Sundry NPM:
  - import: npm:@types/diff@8.0.0
  - import: npm:approx-string-match@2
  - import: npm:date-fns@4
  - import: npm:diff@8.0.2
  - import: npm:@farcaster/frame-sdk@0.1.7
  - import: npm:fast-json-patch@3.1.1
  - import: npm:fake-indexeddb@6.0.1
    subpaths: ['auto']
  - import: npm:happy-dom@18.0.1
  - import: npm:hash-it@6.0.0
  - import: npm:ignore@7.0.5
  - import: npm:immer@10
  - import: npm:ora@8.2.0
  - import: npm:pretty-bytes@7.0.0
  - import: npm:peerjs@1.5.5
  - import: npm:ramda@0.31.3
  - import: npm:@types/ramda@0.30.2
  - import: npm:rxjs@7.8.2
  - import: npm:strip-ansi@7
  - import: npm:tinycolor2@1.6.0
  - import: npm:ts-essentials@10.1.1
  - import: npm:yaml@2.8.0
  - import: npm:@preact/signals-core@1.11.0
  - import: npm:zod@4.0.5
    subpaths: [v4, v4-mini]

  # Websockets:
  - import: npm:ws@8.18.3
  - import: npm:@types/ws@8.18.1

  # Browser:
  - import: npm:csstype@3
  - import: npm:ua-parser-js@2.0.4

  # UI:
  - import: npm:@svgdotjs/svg.js@3.2.4
  # UI/React:
  - import: npm:react-error-boundary@6.0.0
  - import: npm:react-inspector@6
  - import: npm:react-spinners@0.17.0
  - import: npm:@preact/signals-react@3.2.1
  - import: npm:react-inspector@6.0.2
  - import: npm:@monaco-editor/react@4.7.0
  - import: npm:monaco-editor@0.52.2

package.json:
  - group: std/deno
  - group: crypto
  - group: build/tools
    dev: true

  # UI:
  - group: ui/react
  - import: npm:react-icons@5.5.0
  - import: npm:@vidstack/react@1.12.13
  - import: npm:motion@12.23.6
  - import: npm:hono@4.8.5
